<div class="dashboard-container">
  <div class="greeting-section">
    <h1>Hello, {{ userName }}!</h1>
  </div>

  <div class="filter-bar">
    <mat-chip-listbox #chipList multiple (change)="onFilterChange(chipList.value)">
      <mat-chip-option value="New">New</mat-chip-option>
      <mat-chip-option value="Closed">Closed</mat-chip-option>
      <mat-chip-option value="Assigned">Assigned</mat-chip-option>
    </mat-chip-listbox>
  </div>
  <!-- Tickets Table -->
  <mat-card class="info-card">
    <mat-card-title>My Tickets</mat-card-title>
    <mat-card-content>
      <table class="ticket-table">
        <thead>
          <tr>
            <th>Ticket</th>
            <th>Status</th>
            <th>Age</th>
            <th>Created By</th>
            <th>Rating</th>
            <th>Action</th>
          </tr>
        </thead>

        <tbody>
          @for (ticket of filteredTickets$ | async; track ticket.ticketId) {
          <tr appInteractiveRow>
            <td>
              <button mat-button color="primary" (click)="onTicketSelcted(ticket.ticketId)">
                {{ ticket.title }}
              </button>
            </td>
            <td>{{ ticketStatus[ticket.status] }}</td>
            <td>{{ ticket.createdAt | age}}</td>
            <td>{{ getByUserName(ticket.createdByUserId) }}</td>
            <td>{{ ticket.rating || '' }}</td>

            <td>
              <button mat-button color="primary" (click)="viewTicketDetails(ticket)">Assign</button>
            </td>
          </tr>
          } @empty {
          <tr>
            <td colspan="6" class="no-data">
              ðŸš« No tickets found
            </td>
          </tr>
          }
        </tbody>
      </table>
    </mat-card-content>
  </mat-card>





</div>